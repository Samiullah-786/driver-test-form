const fullQuizData = [
  {
    question: "<img src='Q1/1.png' width='100%'> Tick the sign of “No entry” ",
    options: [
      "Q1/2.png",
      "Q1/3.png",
      "Q1/4.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 1. اگر آپ اپنے سے آگے والی گاڑی کو اوور ٹیک کرنا چاہ رہے ہیں اور سامنے والی گاڑی راستہ نہیں دے رہی تو اس صورت میں آپ کیا کریں گے؟ ",
    options: [
      "(1) مسلسل ہارن کا استعمال کریں گے",
      "(2) آگے والی گاڑی سے 1 فٹ کے فاصلے پر آکر ہارن کا استعمال کریں گے",
      "(3) اوور ٹیک کرنے کیلئے مناسب وقت کا انتظار کریں گے"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q1/5.png' width='100%'> Tick the sign of “Road is closed ahead” ",
    options: [
      "Q1/6.png",
      "Q1/7.png",
      "Q1/8.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 2. دو طرفہ سڑک پر سامنے سے آنیوالی گاڑی کے کسی طرف سے گزرنا چاہیئے؟ ",
    options: [
      "(1) دائیں طرف سے",
      "(2) بائیں طرف سے",
      "(3) 1 اور 2 دونوں نہیں"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "<img src='Q1/9.png' width='100%'> Tick the sign of “No entry for vehicles exceeding width more than 8’-6” ",
    options: [
      "Q1/10.png",
      "Q1/11.png",
      "Q1/12.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 3. موٹر سائیکل سوار کو سٹرک کی کونسی لین استعمال کرنی چاہئیے؟ ",
    options: [
      "(1) دائیں لین استعمال کرنی چاہئیے",
      "(2) درمیان والی لین استعمال کرنی چاہئیے",
      "(3) بائیں لین استعمال کرنی چاہئیے",
      "(4) کوئی بھی لین استعمال کر سکتا ہے"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q1/13.png' width='100%'> Tick the sign of “Slow down” ",
    options: [
      "Q1/14.png",
      "Q1/15.png",
      "Q1/16.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 4. موٹر وہیکل آرڈینینس کے کسی سیکشن کے تحت موٹر سائیکل سوار کیلئے ہیلمٹ پہننا ضروری ہے؟",
    options: [
      "(1) 89-A",
      "(2) 89-B",
      "(3) 89-C"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "<img src='Q1/17.png' width='100%'> Tick the sign of “Stop for Police check post” ",
    options: [
      "Q1/18.png",
      "Q1/19.png",
      "Q1/20.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 5. اگر آپ کے آگے گاڑی نے کسی کو دیا ہے اور گاڑی روک لی ہے آپ اس گاڑی کے پیچھے ہیں تو آپ کیا کریں گے؟",
    options: [
      "(1) مسلسل ہارن دیگر جو کسی کو  دینے کی وجہ سے آہستہ ہوئی ہے یا کھڑی ہوئی ہے، اسے مجبور کریں گے وہ آپ کے آگے سے گاڑی کو ہٹائے اور آپ کو ہر صورت راستہ دے۔",
      "(2) صبر سے کھڑے رہیں گے تاکہ آپ کے آگے کے حالات سازگار ہوں تو آپ چلیں۔ آپ آگے جانے کے لئے ہارن کا استعمال نہیں کریں گے۔ ",
      "(3) آپ گاڑی سے نکل کر اگلی گاڑی والے سے لڑنا شروع کر دیں گے۔ "
    ],
    correctAnswerIndex: 1
  },
  {
    question: "<img src='Q1/21.png' width='100%'> Tick the sign of “End of all prohibitions imposed” ",
    options: [
      "Q1/22.png",
      "Q1/23.png",
      "Q1/24.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 6. (ٹریفک خلاف ورزی) پر اگر آپ کو پولیس آفیسر رکنے کا اشارہ کرے تو آپ کیا کرینگے؟ ",
    options: [
      "(1) آپ گاڑی بھگانے کی کوشش کریں گے۔",
      "(2) فورا رک جائیں گے اور بحث مباحثہ کئے بغیر ٹریفک آفیسر کی ہدایت پر عمل کریں گے۔ ",
      "(3) آپ گاڑی سے نکل کر اگلی گاڑی والے سے لڑنا شروع کر دیں گے۔ "
    ],
    correctAnswerIndex: 1
  },
  {
    question: "<img src='Q1/25.png' width='100%'> Tick the sign of “Minor cross road from left” ",
    options: [
      "Q1/26.png",
      "Q1/27.png",
      "Q1/28.png"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "سوال 7. دوران ڈرائیونگ اگر کوئی گاڑی آپ کو انتباہ کئے بغیر اچانک آپ کو اوور ٹیک کرے تو اس صورت میں آپ کیا کریں گے؟ ",
    options: [
      "(1) آپ ہارن بجا کر اپنی موجودگی کا احساس دلائیں گے ",
      "(2) آپ اس گاڑی کو اوور ٹیک کریں گے ",
      "(3) گاڑی کو ناریل طریقے سے چلاتے رہیں گے "
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q1/29.png' width='100%'> Tick the sign of “Left side road is closed” ",
    options: [
      "Q1/30.png",
      "Q1/31.png",
      "Q1/32.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 8. سٹاپ لائن سے کیا مراد ہے؟ ",
    options: [
      "(1) پیدل چلنے والوں کے گزرنے کی جگہ ",
      "(2) موٹر سائیکل گزارنے کے لئے ",
      "(3) ٹریفک سگنل پر رکنے کے لئے "
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q1/33.png' width='100%'> Tick the sign of “Turn right” ",
    options: [
      "Q1/34.png",
      "Q1/35.png",
      "Q1/36.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 9. اگر ٹریفک سگنل کی سرخ بتی جل رہی ہو تو گاڑی کہاں روکنی چاہئیے؟ ",
    options: [
      "(1) سٹاپ لائن کے 1 فٹ اوپر ",
      "(2) زیبرا کراسنگ پر ",
      "(3) سٹاپ لائن کے پیچھے "
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q1/37.png' width='100%'> Tick the sign of “Box roundabout” ",
    options: [
      "Q1/38.png",
      "Q1/39.png",
      "Q1/40.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 10. اگر سڑک کے درمیان مسلسل لائن ہے تو کیا اس صورت میں اوور ٹیک کیا جا سکتا ہے؟ ",
    options: [
      "(1) اوور ٹیک کیا جا سکتا ہے ",
      "(2) اوور ٹیک نہیں کیا جا سکتا ",
      "(3) 1 اور 2 دونوں نہیں "
    ],
    correctAnswerIndex: 1
  },
  {
    question: "<img src='Q2/1.png' width='100%'> Tick the sign of “Major cross road” ",
    options: [
      "Q2/2.png",
      "Q2/3.png",
      "Q2/4.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 1. سڑک پر یوٹرن لینے کے لئے کونسا اشارہ ضروری ہے؟",
    options: [
      "(1) انڈیکیٹر",
      "(2) ہاتھ کا اشارہ",
      "(3) 1 اور 2 دونوں"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "<img src='Q2/5.png' width='100%'> Tick the sign of “Two way traffic” ",
    options: [
      "Q2/6.png",
      "Q2/7.png",
      "Q2/8.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 2. آپ کسی بھی چوک میں سرخ بتی پر اپنی اپنی لین میں کھڑے ہیں۔ جیسے ہی اشارہ سبز ہوتا ہے تو کیا؟",
    options: [
      "(1) اب لائن اور لین کی پابندی کی کوئی ضرورت نہیں",
      "(2) اشارہ سبز ہونے کے بعد بھی چوک کراس کرنے کے لئے لائن اور لین کی پابندی انتہائی ضروری ہے چاہے آپ کے آگے ٹریفک کی لمبی قطار موجود ہوں ۔ صبر سے اپنی باری کا انتظار کریں گے۔",
      "(3) یہ آپ کی مرضی ہے کہ کیا کرنا ہے۔"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "<img src='Q2/9.png' width='100%'> Tick the sign of “other dangers” ",
    options: [
      "Q2/10.png",
      "Q2/11.png",
      "Q2/12.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 3. ہسپتال، سکول کالج کے سامنے ہارن بجایا جا سکتا ہے؟",
    options: [
      "(1) 1 مرتبہ",
      "(2) 2 مرتبہ",
      "(3) ہارن بجانا ممنوع ہوتا ہے"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q2/13.png' width='100%'> Tick the sign of “Compulsory roundabout” ",
    options: [
      "Q2/14.png",
      "Q2/15.png",
      "Q2/16.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 4. موٹر وہیکل آرڈینینس کی کسی دفعہ کے تحت بغیر لائسنس کے ڈرائیونگ کرنا ممنوع ہے۔",
    options: [
      "(1) سیکشن 1",
      "(2) سیکشن 4",
      "(3) 1 اور 2 دونوں نہیں"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "<img src='Q2/17.png' width='100%'> Tick the sign of “No entry for vehicles” ",
    options: [
      "Q2/18.png",
      "Q2/19.png",
      "Q2/20.png"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "سوال 5. اپنے راستے کے حق کیلئے ڈرائیور کتنی مرتبہ پریشر ہارن کا استعمال کر سکتا ہے؟",
    options: [
      "(1) 1 مرتبہ",
      "(2) 2 مرتبہ",
      "(3) پریشر ہارن کا استعمال ممنوع ہے"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q2/21.png' width='100%'> Tick the sign of “Goods vehicle prohibited” ",
    options: [
      "Q2/22.png",
      "Q2/23.png",
      "Q2/24.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 6. اگر دو موٹر سائیکل سوار ایک ساتھ ٹریفک کے گول چکر میں داخل ہو رہے ہوں اور گول چکر میں ٹریفک کا کوئی سائن نہ ہو تو پہلے کس طرف والی موٹر سائیکل گزرنے کا حق رکھتی ہے۔",
    options: [
      "(1) دائیں",
      "(2) بائیں",
      "(3) دونوں"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "<img src='Q2/25.png' width='100%'> Tick the sign of “Honking horn prohibited” ",
    options: [
      "Q2/26.png",
      "Q2/27.png",
      "Q2/28.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 7. ٹریفک سگنل پر صرف زرد (Yellow) بتی مسلسل جلنے کا مطلب ہے؟",
    options: [
      "(1) موٹر سائیکل کو تیزی کیساتھ گزارا جا سکتا ہے",
      "(2) موٹر سائیکل کو سٹاپ لائن سے پہلے روک لیں",
      "(3) صرف بائیں طرف مڑیں"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "<img src='Q2/29.png' width='100%'> Tick the sign of “Speed limit 50 KM” ",
    options: [
      "Q2/30.png",
      "Q2/31.png",
      "Q2/32.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 8. پل پر گاڑی کو کیسے اوور ٹیک کیا جا سکتا ہے؟",
    options: [
      "(1) دائیں طرف سے",
      "(2) بائیں طرف سے",
      "(3) پل پر اوور ٹیک ممنوع ہے"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q2/33.png' width='100%'> Tick the sign of “End of prohibition of overtaking” ",
    options: [
      "Q2/34.png",
      "Q2/35.png",
      "Q2/36.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 9. کیا دل کا مریض موٹر سائیکل چلا سکتا ہے؟",
    options: [
      "(1) 40 کلومیٹر فی گھنٹہ",
      "(2) 20 کلومیٹر فی گھنٹہ",
      "(3) دل کا مریض گاڑی ڈرائیو نہیں کر سکتا"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q2/37.png' width='100%'> Tick the sign of “overtaking prohibited” ",
    options: [
      "Q2/38.png",
      "Q2/39.png",
      "Q2/40.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 10. کیا پل پر رات کے وقت موٹر سائیکل پارک کر سکتے ہیں؟",
    options: [
      "(1) انڈیکیٹر اور ہیڈ بیک لائٹس آن کر کے",
      "(2) صرف دائیں سائیڈ والا انڈیکیٹر آن کرکے",
      "(3) موٹر سائیکل پارک نہیں کرنی چاہئیے"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q3/1.png' width='100%'> Tick the sign of “Slippery road” ",
    options: [
      "Q3/2.png",
      "Q3/3.png",
      "Q3/4.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 1. اگر آپ موٹر سائیکل چلا رہے ہیں تو کیا؟",
    options: [
      "(1) آپ سڑک پر لین اور لائن کی پرواہ کیے بغیر جہاں آپ کی مرضی ہو موٹر سائیکل چلا سکتے ہیں۔",
      "(2) سڑک پر زگ زیگ کرنے میں کوئی حرج نہیں ہے۔",
      "(3) آپ کو ہمیشہ سڑک کی انتہائی بائیں جانب والی لین میں رہنا چاہیے اور لین صرف اس وقت تبدیل کرنا چاہیے جب آپ نے دائیں یا بائیں مڑنا ہو۔"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q3/5.png' width='100%'> Tick the sign of “Roundabout” ",
    options: [
      "Q3/6.png",
      "Q3/7.png",
      "Q3/8.png"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "سوال 2. موٹر وہیکل آرڈینینس کے کس سیکشن کے تحت موٹر سائیکل پر ڈبل سواری کی جاسکتی ہے؟",
    options: [
      "(1) 87",
      "(2) 88",
      "(3) 89"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q3/9.png' width='100%'> Tick the sign of “Uneven road” ",
    options: [
      "Q3/10.png",
      "Q3/11.png",
      "Q3/12.png"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "سوال 3. موٹر سائیکل سوار تین لین والی روڈ پر اگر دائیں جانب یوٹرن (U-turn) لینا چاہے تو اسے کس لین میں ہونا چاہیے؟",
    options: [
      "(1) انتہائی بائیں لین میں",
      "(2) درمیان والی لین میں",
      "(3) انتہائی دائیں لین میں"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q3/13.png' width='100%'> Tick the sign of “Keep to the left” ",
    options: [
      "Q3/14.png",
      "Q3/15.png",
      "Q3/16.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 4. کلر بلائنڈنس (color blindness) کا مریض کن سڑکوں پر موٹر سائیکل چلا سکتا ہے؟",
    options: [
      "(1) ہائی وے پر",
      "(2) شہری حدود کے اندر",
      "(3) گاڑی نہیں چلا سکتا"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q3/17.png' width='100%'> Tick the sign of “Dual carriageway end” ",
    options: [
      "Q3/18.png",
      "Q3/19.png",
      "Q3/20.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 5. موٹر سائیکل چلانے کے لیے ہیلمٹ کیوں ضروری ہے؟",
    options: [
      "(1) چالان سے بچنے کیلئے",
      "(2) ایکسیڈنٹ میں چوٹ سے بچنے کیلئے",
      "(3) 1 اور 2 دونوں"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "<img src='Q3/21.png' width='100%'> Tick the sign of “STOP” ",
    options: [
      "Q3/22.png",
      "Q3/23.png",
      "Q3/24.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 6. لین لائن سسٹم میں آگے والی گاڑی کو اوور ٹیک کیسے کیا جا سکتا ہے؟",
    options: [
      "(1) انڈیکیٹر کا استعمال کر کے",
      "(2) ہارن بجا کر",
      "(3) 1 اور 2 دونوں"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q3/25.png' width='100%'> Tick the sign of “Minor cross road from right” ",
    options: [
      "Q3/26.png",
      "Q3/27.png",
      "Q3/28.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 7. لازمی اشارے کس شکل کے ہوتے ہیں؟",
    options: [
      "(1) گول",
      "(2) تکون",
      "(3) چوکور"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "<img src='Q3/29.png' width='100%'> Tick the sign of “Traffic signal roundabout” ",
    options: [
      "Q3/30.png",
      "Q3/31.png",
      "Q3/32.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 8. PPC کی کس دفعہ کے تحت لا پرواہی اور غفلت سے ڈرائیونگ کرنے کے خلاف کاروائی کی جاسکتی ہے؟",
    options: [
      "(1) دفعہ 279",
      "(2) دفعہ 278",
      "(3) دفعہ 280"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "<img src='Q3/33.png' width='100%'> Tick the sign of “Restaurant” ",
    options: [
      "Q3/34.png",
      "Q3/35.png",
      "Q3/36.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 9. سڑک پر موجود مسلسل لائن سے اگلی گاڑی کو اوور ٹیک کرنے کیلئے کیا کرنا چاہیے؟",
    options: [
      "(1) انڈیکیٹر کا استعمال کرنا لازمی ہے",
      "(2) ہارن بجا کر",
      "(3) 1 اور 2 دونوں نہیں"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q3/37.png' width='100%'> Tick the sign of “Lane is closed” ",
    options: [
      "Q3/38.png",
      "Q3/39.png",
      "Q3/40.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 10. موٹر سائیکل پر پیچھے بیٹھے ہوئے سوار پر ہیلمٹ پہننا؟",
    options: [
      "(1) لازمی ہے",
      "(2) لازمی نہیں"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "<img src='Q4/1.png' width='100%'> Tick the sign of “Go straight or left” ",
    options: [
      "Q4/2.png",
      "Q4/3.png",
      "Q4/4.png"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "سوال 1. ملٹی لین سسٹم کیا ہے؟",
    options: [
      "(1) جب آپ چوک میں پہنچیں تو اگر آپ نے سیدھا چوک کراس کرنا ہے تو سنٹر لین میں رہیں۔ اور اگر آپ نے چوک سے دائیں طرف مڑنا ہے تو دائیں لین میں رہیں اور اگر آپ نے چوک سے بائیں طرف مڑنا ہے تو بائیں لین میں رہیں۔",
      "(2) آپ اپنی مرضی سے اپنی گاڑی جس لین میں چاہے کھڑی کر سکتے ہیں۔",
      "(3) ٹریفک سگنل کے قریب پہنچ کر فیصلہ کریں گے کہ کیا کرنا ہے۔"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "<img src='Q4/5.png' width='100%'> Tick the sign of “U Turn is prohibited” ",
    options: [
      "Q4/6.png",
      "Q4/7.png",
      "Q4/8.png"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "سوال 2. موٹر سائیکل پر ڈرائیور کے علاوہ کتنے اشخاص سوار ہو سکتے ہیں؟",
    options: [
      "(1) ایک",
      "(2) دو",
      "(3) تین"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "<img src='Q4/9.png' width='100%'> Tick the sign of “Turn right” ",
    options: [
      "Q4/10.png",
      "Q4/11.png",
      "Q4/12.png"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "سوال 3. چڑھائی چڑھتے وقت اوور ٹیک کیسے کر سکتے ہیں؟",
    options: [
      "(1) انڈیکیٹر کا استعمال کر کے",
      "(2) اوور ٹیکینگ ممنوع ہے",
      "(3) انڈیکیٹر اور ہارن کا استعمال کر کے"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "<img src='Q4/13.png' width='100%'> Tick the sign of “Dangerous descent” ",
    options: [
      "Q4/14.png",
      "Q4/15.png",
      "Q4/16.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 4. احتیاطی اشارے کس شکل کے ہوتے ہیں؟",
    options: [
      "(1) چکور نما",
      "(2) گول",
      "(3) تکونی"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q4/17.png' width='100%'> Tick the sign of “Double bend to the left” ",
    options: [
      "Q4/18.png",
      "Q4/19.png",
      "Q4/20.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 5. موٹر سائیکل چلاتے ہوئے ہاتھ کے تمام اشارے کس ہاتھ سے دینے چاہئیے؟",
    options: [
      "(1) دائیں",
      "(2) بائیں",
      "(3) سہولت کے مطابق 1 اور 2 دونوں"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q4/21.png' width='100%'> Tick the sign of “Road narrows on both sides” ",
    options: [
      "Q4/22.png",
      "Q4/23.png",
      "Q4/24.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 6. آپ کے آگے گاڑیوں کی لمبی لائن ہے اور ٹریفک لائن الین سسٹم کے مطابق رواں ہے لیکن آپ نے دائیں مڑنا ہے تو کیا آپ؟",
    options: [
      "(1) اپنی لائن میں رہیں گے چاہے ٹریفک سگنل دوبارہ سبز سے سرخ ہو جائے۔ صبر تحمل کا مظاہرہ کرتے ہوئے لائن / لین نہ توڑیں گے اور نہ ہارن دے کر اگلی گاڑی کو تنگ کریں گے۔",
      "(2) چوک میں پہنچ کر لائن توڑ دیں گے اور مخالف سمت سے آنے والی سڑک پر گاڑی ڈال لیں گے اور دائیں مڑ جائیں گے باقی ٹریفک کی پروا کئے بغیر۔",
      "(3) اگلی ٹریفک کو مسلسل ہارن پر ہارن دیں گے تا کہ اشارہ سبز سے سرخ ہونے سے پہلے نکلنے کا موقع مل سکے۔"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "<img src='Q4/25.png' width='100%'> Tick the sign of “Left bend” ",
    options: [
      "Q4/26.png",
      "Q4/27.png",
      "Q4/28.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 7. کن صورتوں میں بیٹا باپ کے ڈرائیونگ لائسنس پر گاڑی چلا سکتا ہے؟",
    options: [
      "(1) جب عمر 16 سال ہو جائے",
      "(2) 21 سال",
      "(3) 1 اور 2 دونوں نہیں"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q4/29.png' width='100%'> Tick the sign of “Parking this way” ",
    options: [
      "Q4/30.png",
      "Q4/31.png",
      "Q4/32.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 8. U-Turn (یوٹرن) سے کیا مراد ہے؟",
    options: [
      "(1) آگے سیدھے جانا",
      "(2) دائیں مڑنا",
      "(3) بائیں مڑنا"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "<img src='Q4/33.png' width='100%'> Tick the sign of “Overtaking prohibited on central line” ",
    options: [
      "Q4/34.png",
      "Q4/35.png",
      "Q4/36.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 9. موٹر وہیکل آرڈینینس کی کسی دفعہ کے تحت ون ویلنگ ممنوع ہے۔",
    options: [
      "(1) 89-A",
      "(2) 99-A",
      "(3) 101-A"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "<img src='Q4/37.png' width='100%'> Tick the sign of “Warning sign” ",
    options: [
      "Q4/38.png",
      "Q4/39.png",
      "Q4/40.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 10. موٹر وہیکل آرڈینینس کی کسی دفعہ کے تحت گاڑی کو خطرناک حالت میں چھوڑنا ممنوع ہے۔",
    options: [
      "(1) سیکشن 1",
      "(2) سیکشن 2",
      "(3) سیکشن 3"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "<img src='Q5/1.png' width='100%'> Tick the sign of “Yield to the traffic approaching from the right on any leg of the intersection” ",
    options: [
      "Q5/2.png",
      "Q5/3.png",
      "Q5/4.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 1. اگر ٹریفک سگنل کی سرخ بتی جل رہی ہو تو ڈرائیور کو گاڑی کسی جگہ کھڑی کرنی چاہیئے",
    options: [
      "(1) سٹاپ لائن کے پیچھے",
      "(2) زیبرا کراسنگ پر",
      "(3) سٹاپ لائن کے اوپر"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "<img src='Q5/5.png' width='100%'> Tick the sign of “Cattle crossing” ",
    options: [
      "Q5/6.png",
      "Q5/7.png",
      "Q5/8.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 2. اگر سڑک پر ٹریفک آہستہ چل رہی ہو یا ٹریفک رکی ہوئی ہو تو موٹر سائیکل سوار؟",
    options: [
      "(1) فٹ پاتھ پر موٹر سائیکل چلانے کا حق رکھتا ہے",
      "(2) سڑک کی درمیان یا انتہائی دائیں جانب والی لین جہاں ٹریفک کا دباو کم ہو وہاں موٹر سائیکل چلا سکتا ہے",
      "(3) 1 اور 2 دونوں نہیں"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q5/9.png' width='100%'> Tick the sign of “Pedestrians prohibited” ",
    options: [
      "Q5/10.png",
      "Q5/11.png",
      "Q5/12.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 3. مندرجہ ذیل میں سے سب سے پہلے گزرنے کا حق کس گاڑی کا ہے؟",
    options: [
      "(1) فائر بریگیڈ / ایمبولینس",
      "(2) VIP/VVIP کی گاڑی",
      "(3) 1 اور 2 دونوں نہیں"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "<img src='Q5/13.png' width='100%'> Tick the sign of “Turn to the left” ",
    options: [
      "Q5/14.png",
      "Q5/15.png",
      "Q5/16.png"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "سوال 4. PPC کی کس دفعہ کے تحت لا پرواہی اور غفلت سے ڈرائیونگ کرنے کے خلاف کاروائی کی جاسکتی ہے؟",
    options: [
      "(1) دفعہ 279",
      "(2) دفعہ 278",
      "(3) دفعہ 280"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "<img src='Q5/17.png' width='100%'> Tick the sign of “Children crossing” ",
    options: [
      "Q5/18.png",
      "Q5/19.png",
      "Q5/20.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 5. اگر آپ نے چوک سے بائیں مڑنا ہے اور آپ غلطی سے چوک میں دائیں لین میں سب سے آگے ہیں۔ اب اشارہ سبز ہوتا ہے تو آپ کیا کریں گے؟",
    options: [
      "(1) اپنا بائیں جانب کا انڈیکٹر لگا کر دائیں طرف لین سے تمام ٹریفک کو روکتے ہوئے بائیں لین میں پہنچنے کی کوشش کریں گے۔ تا کہ آپ حسب منشاء بائیں مڑسکیں۔",
      "(2) وہیں رک جائینگے ارد گرد کی ٹریفک کی پروا نہیں کریں گے اور موقع ملتے ہی بائیں مڑ جائیں گے۔",
      "(3) سبز اشارہ کھلتے ہی آپ بائیں لین میں رہتے ہوئے چوک کراس کر جائیں گے اور اگلے چوک یا اگلے سائیڈ روڈ سے واپس آکر اپنی سڑک لے لیں گے۔"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q5/21.png' width='100%'> Tick the sign of “Falling rock” ",
    options: [
      "Q5/22.png",
      "Q5/23.png",
      "Q5/24.png"
    ],
    correctAnswerIndex: 1
  },
  {
    question: "سوال 6. اگر لٹرن نزدیک نہ ہو تو کتنے گز تک واپس مڑنے کیلئے ون وے جا سکتے ہیں؟",
    options: [
      "(1) 10 گز",
      "(2) 20 گز",
      "(3) کوئی درست جواب نہیں ہے"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q5/25.png' width='100%'> Tick the sign of “Road dips” ",
    options: [
      "Q5/26.png",
      "Q5/27.png",
      "Q5/28.png"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "سوال 7. موٹر وے پر موٹر سائیکل کی حد رفتار کیا ہے؟",
    options: [
      "(1) 60 کلو میٹر فی گھنٹہ",
      "(2) 80 کلومیٹر فی گھنٹہ",
      "(3) موٹروے پر موٹر سائیکل چلانا ممنوع ہے"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "<img src='Q5/29.png' width='100%'> Tick the sign of “Minor cross roads from right and left respectively” ",
    options: [
      "Q5/30.png",
      "Q5/31.png",
      "Q5/32.png"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "سوال 8. احتیاطی اشارے کس شکل کے ہوتے ہیں؟",
    options: [
      "(1) چکور نما",
      "(2) گول",
      "(3) تکونی"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "سوال 9. ٹریفک سگنل پر سرخ بتی جل رہی ہو تو ڈرائیور کو گاڑی کسی جگہ کھڑی کرنی چاہیئے",
    options: [
      "(1) سٹاپ لائن کے پیچھے",
      "(2) زیبرا کراسنگ پر",
      "(3) سٹاپ لائن کے اوپر"
    ],
    correctAnswerIndex: 0
  },
  {
    question: "<img src='Q5/37.png' width='100%'> Tick the sign of “Slow down to stop” ",
    options: [
      "Q5/38.png",
      "Q5/39.png",
      "Q5/40.png"
    ],
    correctAnswerIndex: 2
  },
  {
    question: "سوال 10. موٹر وہیکل آرڈینینس کی کسی سیکشن کے تحت دوران ڈرائیونگ موبائل فون کا استعمال ممنوع ہے؟",
    options: [
      "(1) سیکشن 100",
      "(2) سیکشن 101",
      "(3) سیکشن 101-A"
    ],
    correctAnswerIndex: 2
  }
];

const quizData = fullQuizData.sort(() => 0.5 - Math.random()).slice(0, 20);

let currentQuestionIndex = 0;
let score = 0;
let detailedResults = [];
let driverData = {};
// Initialize the set by getting stored data from localStorage
const usedCnicNumbers = new Set(JSON.parse(localStorage.getItem('usedCnicNumbers')) || []);


const questionEl = document.getElementById("question");
const optionsEl = document.getElementById("options");
const nextButton = document.getElementById("nextBtn");
const resultEl = document.getElementById("result");
const driverForm = document.getElementById("driver-details-form");
const startButton = document.getElementById("startBtn");
const downloadButton = document.getElementById("downloadBtn");
const themeToggleButton = document.getElementById("theme-toggle-btn");

// Theme toggle functionality
themeToggleButton.addEventListener("click", () => {
    document.body.classList.toggle("dark-mode");
    if (document.body.classList.contains("dark-mode")) {
        themeToggleButton.textContent = '☀️';
    } else {
        themeToggleButton.textContent = '💡';
    }
});

startButton.addEventListener("click", () => {
    const driverName = document.getElementById("driverName").value;
    const phoneNumber = document.getElementById("phoneNumber").value;
    const cnicNumber = document.getElementById("cnicNumber").value;
    const licenseType = document.getElementById("licenseType").value;

    if (driverName && phoneNumber && cnicNumber) {
        // Check if CNIC number is already used
        if (usedCnicNumbers.has(cnicNumber)) {
            alert("This CNIC number has already been used. Please enter a new one.");
            return; // Stop the function
        }
        
        // Add the new CNIC to the set
        usedCnicNumbers.add(cnicNumber);
        // Save the updated set to localStorage
        localStorage.setItem('usedCnicNumbers', JSON.stringify(Array.from(usedCnicNumbers)));

        driverData = {
            name: driverName,
            phone: phoneNumber,
            cnic: cnicNumber,
            license: licenseType
        };
        driverForm.classList.add("hidden");
        questionEl.classList.remove("hidden");
        optionsEl.classList.remove("hidden");
        loadQuestion();
    } else {
        alert("Please fill out all the details to start the test.");
    }
});

downloadButton.addEventListener("click", downloadExcel);

function loadQuestion() {
    const current = quizData[currentQuestionIndex];
    questionEl.innerHTML = (currentQuestionIndex + 1) + ". " + current.question;
    optionsEl.innerHTML = "";

    current.options.forEach((opt, index) => {
        const optionContainer = document.createElement("div");
        optionContainer.classList.add("option-container");

        // Check if the option is an image path
        if (opt.includes(".png")) {
            const img = document.createElement("img");
            img.src = opt;
            img.classList.add("option-img");
            optionContainer.appendChild(img);
        } else {
            const text = document.createElement("span");
            text.textContent = opt;
            optionContainer.appendChild(text);
        }

        optionContainer.onclick = () => checkAnswer(index, optionContainer);
        optionsEl.appendChild(optionContainer);
    });

    nextButton.classList.add("hidden");
}

function checkAnswer(selectedIndex, optionElement) {
    const current = quizData[currentQuestionIndex];
    const isCorrect = selectedIndex === current.correctAnswerIndex;
    const allOptions = document.querySelectorAll(".option-container");

    allOptions.forEach(opt => opt.onclick = null);

    if (isCorrect) {
        optionElement.classList.add("correct");
        score++;
    } else {
        optionElement.classList.add("incorrect");
        // We will not highlight the correct answer
    }

    let questionText = current.question;
    if (questionText.includes("<img")) {
        const questionParts = questionText.split(" ").slice(1);
        questionText = questionParts.join(" ");
    }

    detailedResults.push({
        questionNumber: currentQuestionIndex + 1,
        question: questionText,
        selectedOption: current.options[selectedIndex],
        correctOption: current.options[current.correctAnswerIndex],
        isCorrect: isCorrect
    });

    nextButton.classList.remove("hidden");
}

nextButton.addEventListener("click", () => {
    currentQuestionIndex++;
    if (currentQuestionIndex < quizData.length) {
        loadQuestion();
    } else {
        showResults();
    }
});

function showResults() {
    questionEl.classList.add("hidden");
    optionsEl.classList.add("hidden");
    nextButton.classList.add("hidden");

    let resultHTML = `<h2>Your Score: ${score}/${quizData.length}</h2>`;
    resultHTML += `
            <table>
                <tr>
                    <th>Q#</th>
                    <th>Question</th>
                    <th>Your Answer</th>
                    <th>Correct Answer</th>
                    <th>Result</th>
                </tr>
        `;

    detailedResults.forEach(r => {
        const selectedDisplay = r.selectedOption.includes(".png") ? `<img src="${r.selectedOption}" width="50">` : `<span>${r.selectedOption}</span>`;
        const correctDisplay = r.correctOption.includes(".png") ? `<img src="${r.correctOption}" width="50">` : `<span>${r.correctOption}</span>`;

        resultHTML += `
                <tr>
                    <td>${r.questionNumber}</td>
                    <td>${r.question}</td>
                    <td>${selectedDisplay}</td>
                    <td>${correctDisplay}</td>
                    <td class="${r.isCorrect ? "correct-text" : "incorrect-text"}">
                        ${r.isCorrect ? "Correct" : "Wrong"}
                    </td>
                </tr>
            `;
    });

    resultHTML += `</table>`;
    resultEl.innerHTML = resultHTML;
    downloadButton.classList.remove("hidden");
}

function downloadExcel() {
    const data = [
        ["Driver Details"],
        ["Name", driverData.name],
        ["Phone Number", driverData.phone],
        ["CNIC Number", driverData.cnic],
        ["License Type", driverData.license],
        [],
        ["Quiz Results"],
        ["Q#", "Question", "Your Answer", "Correct Answer", "Result"],
    ];

    detailedResults.forEach(r => {
        const resultText = r.isCorrect ? "Correct" : "Wrong";
        data.push([r.questionNumber, r.question, r.selectedOption, r.correctOption, resultText]);
    });

    const ws = XLSX.utils.aoa_to_sheet(data);
    const wb = XLSX.utils.book_new();
    XLSX.utils.book_append_sheet(wb, ws, "Quiz Results");
    XLSX.writeFile(wb, "driver_test_results.xlsx");
}

// Initial state: show form, hide quiz elements
document.getElementById("question").classList.add("hidden");
document.getElementById("options").classList.add("hidden");
